import{_ as w,j as x,c as n,f as i,a as e,q as h,b as l,e as I,A as y,n as m,W as S,D as K,v as C,w as F,F as N,k as L,t as O,T as G,M as R,d as g,G as V,r as T,a2 as M,g as U,P as q,I as W,J,u as z,l as D,x as H,B as Q}from"./index-BtR8u1Yc.js";import{L as p}from"./localeText-CcPMTEBg.js";const Y={name:"endpointAllowedIps",components:{LocaleText:p},props:{data:Object,saving:Boolean},setup(){const a=S(),t=K();return{store:a,dashboardStore:t}},data(){return{endpointAllowedIps:JSON.parse(JSON.stringify(this.data.endpoint_allowed_ip)),error:!1}},methods:{checkAllowedIP(){let a=this.endpointAllowedIps.split(",").map(t=>t.replaceAll(" ",""));for(let t in a)if(!this.store.checkCIDR(a[t])){this.error||this.dashboardStore.newMessage("WGDashboard","Endpoint Allowed IPs format is incorrect","danger"),this.data.endpoint_allowed_ip="",this.error=!0;return}this.error=!1,this.data.endpoint_allowed_ip=this.endpointAllowedIps}},watch:{endpointAllowedIps(){this.checkAllowedIP()}}},Z={for:"peer_endpoint_allowed_ips",class:"form-label"},X={class:"text-muted"},ee=["disabled"];function te(a,t,r,u,c,k){const o=x("LocaleText");return i(),n("div",null,[e("label",Z,[e("small",X,[l(o,{t:"Endpoint Allowed IPs"}),t[2]||(t[2]=I()),e("code",null,[l(o,{t:"(Required)"})])])]),h(e("input",{type:"text",class:m(["form-control form-control-sm rounded-3",{"is-invalid":c.error}]),disabled:this.saving,"onUpdate:modelValue":t[0]||(t[0]=s=>this.endpointAllowedIps=s),onBlur:t[1]||(t[1]=s=>this.checkAllowedIP()),id:"peer_endpoint_allowed_ips"},null,42,ee),[[y,this.endpointAllowedIps]])])}const se=w(Y,[["render",te]]),ae={name:"allowedIPsInput",components:{LocaleText:p},props:{data:Object,saving:Boolean,bulk:Boolean,availableIp:void 0},data(){return{allowedIp:[],availableIpSearchString:"",customAvailableIp:"",allowedIpFormatError:!1}},setup(a){const t=S(),r=K(),u=T("");return Object.keys(a.availableIp).length>0&&(u.value=Object.keys(a.availableIp)[0]),{store:t,dashboardStore:r,selectedSubnet:u}},computed:{searchAvailableIps(){return this.availableIpSearchString?this.availableIp[this.selectedSubnet].filter(a=>a.includes(this.availableIpSearchString)&&!this.data.allowed_ips.includes(a)):this.availableIp[this.selectedSubnet].filter(a=>!this.data.allowed_ips.includes(a))},inputGetLocale(){return V("Enter IP Address/CIDR")}},methods:{addAllowedIp(a){let t=a.split(",");for(let r=0;r<t.length;r++){let u=t[r].trim();if(this.store.checkCIDR(u))this.data.allowed_ips.push(u);else return this.allowedIpFormatError=!0,this.dashboardStore.newMessage("WGDashboard",`This Allowed IP address is invalid: ${u}`,"danger"),!1}return this.customAvailableIp="",!0}},watch:{customAvailableIp(){this.allowedIpFormatError=!1}},mounted(){if(this.availableIp!==void 0&&Object.keys(this.availableIp).length>0&&this.data.allowed_ips.length===0)for(let a in this.availableIp)this.availableIp[a].length>0&&this.addAllowedIp(this.availableIp[a][0])}},le={class:"d-flex flex-column flex-md-row mb-2"},oe={for:"peer_allowed_ip_textbox",class:"form-label mb-0"},ie={class:"text-muted"},de={class:"form-check form-switch ms-md-auto"},ne={class:"form-check-label",for:"disableIPValidation"},re={class:"d-flex"},ue=["onClick"],ce={class:"d-flex gap-2 align-items-center"},pe={class:"input-group"},he=["placeholder","disabled"],be=["disabled"],_e={class:"text-muted"},me={class:"dropdown flex-grow-1"},ve=["disabled"],fe={key:0,class:"dropdown-menu mt-2 shadow w-100 dropdown-menu-end rounded-3 pb-0",style:{width:"300px !important"}},ke={class:"px-3 d-flex gap-3 align-items-center"},ye={class:"px-3 overflow-x-scroll d-flex overflow-x-scroll overflow-y-hidden align-items-center gap-2"},ge=["onClick"],we={class:"overflow-y-scroll",style:{height:"270px"}},xe=["onClick"],$e={class:"me-auto"},Ie={key:0,class:"px-3 py-2"},Ae={key:0,class:"text-muted"},Pe={key:1,class:"text-muted"};function Se(a,t,r,u,c,k){const o=x("LocaleText");return i(),n("div",{class:m({inactiveField:this.bulk})},[e("div",le,[e("label",oe,[e("small",ie,[l(o,{t:"Allowed IPs"}),t[5]||(t[5]=I()),e("code",null,[l(o,{t:"(Required)"})])])]),e("div",de,[h(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=s=>this.data.allowed_ips_validation=s),role:"switch",id:"disableIPValidation"},null,512),[[C,this.data.allowed_ips_validation]]),e("label",ne,[e("small",null,[l(o,{t:"Allowed IPs Validation"})])])])]),e("div",re,[e("div",{class:m(["d-flex gap-2 flex-wrap",{"mb-2":this.data.allowed_ips.length>0}])},[l(G,{name:"list"},{default:F(()=>[(i(!0),n(N,null,L(this.data.allowed_ips,(s,v)=>(i(),n("span",{class:"badge rounded-pill text-bg-success",key:s},[I(O(s)+" ",1),e("a",{role:"button",onClick:P=>this.data.allowed_ips.splice(v,1)},[...t[6]||(t[6]=[e("i",{class:"bi bi-x-circle-fill ms-1"},null,-1)])],8,ue)]))),128))]),_:1})],2)]),e("div",ce,[e("div",pe,[h(e("input",{type:"text",class:m(["form-control form-control-sm rounded-start-3",{"is-invalid":this.allowedIpFormatError}]),placeholder:this.inputGetLocale,onKeyup:t[1]||(t[1]=R(s=>this.customAvailableIp?this.addAllowedIp(this.customAvailableIp):void 0,["enter"])),"onUpdate:modelValue":t[2]||(t[2]=s=>c.customAvailableIp=s),id:"peer_allowed_ip_textbox",disabled:r.bulk},null,42,he),[[y,c.customAvailableIp]]),e("button",{class:m(["btn btn-sm rounded-end-3",[this.customAvailableIp?"btn-success":"btn-outline-success"]]),disabled:r.bulk||!this.customAvailableIp,onClick:t[3]||(t[3]=s=>this.addAllowedIp(this.customAvailableIp)),type:"button",id:"button-addon2"},[...t[7]||(t[7]=[e("i",{class:"bi bi-plus-lg"},null,-1)])],10,be)]),e("small",_e,[l(o,{t:"or"})]),e("div",me,[e("button",{class:"btn btn-outline-secondary btn-sm dropdown-toggle rounded-3 w-100",disabled:!r.availableIp||r.bulk,"data-bs-auto-close":"outside",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t[8]||(t[8]=e("i",{class:"bi bi-filter-circle me-2"},null,-1)),l(o,{t:"Pick Available IP"})],8,ve),this.availableIp?(i(),n("ul",fe,[e("li",null,[e("div",ke,[t[9]||(t[9]=e("label",{for:"availableIpSearchString",class:"text-muted"},[e("i",{class:"bi bi-search"})],-1)),h(e("input",{id:"availableIpSearchString",class:"form-control form-control-sm rounded-3","onUpdate:modelValue":t[4]||(t[4]=s=>this.availableIpSearchString=s)},null,512),[[y,this.availableIpSearchString]])]),t[11]||(t[11]=e("hr",{class:"my-2"},null,-1)),e("div",ye,[t[10]||(t[10]=e("small",{class:"text-muted"},"Subnet",-1)),(i(!0),n(N,null,L(Object.keys(this.availableIp),s=>(i(),n("button",{key:s,onClick:v=>this.selectedSubnet=s,class:m([{"bg-primary-subtle":this.selectedSubnet===s},"btn btn-sm text-primary-emphasis rounded-3"])},O(s),11,ge))),128))]),t[12]||(t[12]=e("hr",{class:"mt-2 mb-0"},null,-1))]),e("li",null,[e("div",we,[(i(!0),n(N,null,L(this.searchAvailableIps,s=>(i(),n("div",{style:{},key:s},[e("a",{class:"dropdown-item d-flex",role:"button",onClick:v=>this.addAllowedIp(s)},[e("span",$e,[e("small",null,O(s),1)])],8,xe)]))),128)),this.searchAvailableIps.length===0?(i(),n("div",Ie,[this.availableIpSearchString?(i(),n("small",Ae,[l(o,{t:"No available IP containing"}),I('"'+O(this.availableIpSearchString)+'"',1)])):(i(),n("small",Pe,[l(o,{t:"No more IP address available in this subnet"})]))])):g("",!0)])])])):g("",!0)])])],2)}const Ke=w(ae,[["render",Se],["__scopeId","data-v-ed72944d"]]),Ce={name:"dnsInput",components:{LocaleText:p},props:{data:Object,saving:Boolean},data(){return{error:!1,dns:JSON.parse(JSON.stringify(this.data.DNS))}},setup(){const a=S(),t=K();return{store:a,dashboardStore:t}},methods:{checkDNS(){if(this.dns){let a=this.dns.split(",").map(t=>t.replaceAll(" ",""));for(let t in a)if(!this.store.regexCheckIP(a[t])){this.error||this.dashboardStore.newMessage("WGDashboard","DNS format is incorrect","danger"),this.error=!0,this.data.DNS="";return}this.error=!1,this.data.DNS=this.dns}}},watch:{dns(){this.checkDNS()}}},Oe={for:"peer_DNS_textbox",class:"form-label"},De={class:"text-muted"},Ne=["disabled"];function Te(a,t,r,u,c,k){const o=x("LocaleText");return i(),n("div",null,[e("label",Oe,[e("small",De,[l(o,{t:"DNS"})])]),h(e("input",{type:"text",class:m(["form-control form-control-sm rounded-3",{"is-invalid":this.error}]),disabled:this.saving,"onUpdate:modelValue":t[0]||(t[0]=s=>this.dns=s),id:"peer_DNS_textbox"},null,10,Ne),[[y,this.dns]])])}const Le=w(Ce,[["render",Te]]),Be={name:"nameInput",components:{LocaleText:p},props:{bulk:Boolean,data:Object,saving:Boolean}},Me={for:"peer_name_textbox",class:"form-label"},Ve={class:"text-muted"},Ue=["disabled"];function Ee(a,t,r,u,c,k){const o=x("LocaleText");return i(),n("div",{class:m({inactiveField:this.bulk})},[e("label",Me,[e("small",Ve,[l(o,{t:"Name"})])]),h(e("input",{type:"text",class:"form-control form-control-sm rounded-3",disabled:this.saving||this.bulk,"onUpdate:modelValue":t[0]||(t[0]=s=>this.data.name=s),id:"peer_name_textbox",placeholder:""},null,8,Ue),[[y,this.data.name]])],2)}const je=w(Be,[["render",Ee]]),Fe={name:"privatePublicKeyInput",components:{LocaleText:p},props:{data:Object,saving:Boolean,bulk:Boolean},setup(){const a=K(),t=S();return{dashboardStore:a,wgStore:t}},data(){return{keypair:{publicKey:"",privateKey:"",presharedKey:""},view:!1,editKey:!1,error:!1}},methods:{genKeyPair(){this.editKey=!1,this.keypair=window.wireguard.generateKeypair(),this.data.private_key=this.keypair.privateKey,this.data.public_key=this.keypair.publicKey},testKey(a){return/^[A-Za-z0-9+/]{43}=?=?$/.test(a)},checkMatching(){try{this.keypair.privateKey&&this.wgStore.checkWGKeyLength(this.keypair.privateKey)&&(this.keypair.publicKey=window.wireguard.generatePublicKey(this.keypair.privateKey),window.wireguard.generatePublicKey(this.keypair.privateKey)!==this.keypair.publicKey?(this.error=!0,this.dashboardStore.newMessage("WGDashboard","Private key does not match with the public key","danger")):(this.data.private_key=this.keypair.privateKey,this.data.public_key=this.keypair.publicKey))}catch{this.error=!0,this.data.private_key="",this.data.public_key=""}}},mounted(){this.genKeyPair()},watch:{keypair:{deep:!0,handler(){this.error=!1,this.checkMatching()}}}},Ge={for:"peer_private_key_textbox",class:"form-label d-flex align-items-center"},Re={class:"text-muted"},qe={class:"input-group"},We=["type","disabled"],Je=["disabled"],ze={class:"d-flex flex-column flex-md-row mb-2"},He={for:"public_key",class:"form-label mb-0"},Qe={class:"text-muted"},Ye={class:"form-check form-switch ms-md-auto"},Ze=["disabled"],Xe={class:"form-check-label",for:"enablePublicKeyEdit"},et=["disabled","type"];function tt(a,t,r,u,c,k){const o=x("LocaleText");return i(),n("div",{class:m(["d-flex gap-2 flex-column",{inactiveField:this.bulk}])},[e("div",null,[e("label",Ge,[e("small",Re,[l(o,{t:"Private Key"}),t[7]||(t[7]=I()),e("code",null,[l(o,{t:"(Required for QR Code and Download)"})])]),e("a",{role:"button",class:"ms-auto text-decoration-none text-body",onClick:t[0]||(t[0]=s=>this.view=!this.view)},[e("small",null,[e("i",{class:m(["bi me-2",[this.view?"bi-eye-slash-fill":"bi-eye-fill"]])},null,2),l(o,{t:this.view?"Hide Keys":"Show Keys"},null,8,["t"])])])]),e("div",qe,[h(e("input",{type:this.view?"text":"password",class:m(["form-control form-control-sm rounded-start-3",{"is-invalid":this.error,"rounded-3":!this.view}]),"onUpdate:modelValue":t[1]||(t[1]=s=>this.keypair.privateKey=s),disabled:!this.editKey||this.bulk,onBlur:t[2]||(t[2]=s=>this.checkMatching()),id:"peer_private_key_textbox"},null,42,We),[[M,this.keypair.privateKey]]),this.view?(i(),n("button",{key:0,class:"btn btn-outline-info btn-sm rounded-end-3",onClick:t[3]||(t[3]=s=>this.genKeyPair()),disabled:this.bulk,type:"button",id:"button-addon2"},[...t[8]||(t[8]=[e("i",{class:"bi bi-arrow-repeat"},null,-1)])],8,Je)):g("",!0)])]),e("div",null,[e("div",ze,[e("label",He,[e("small",Qe,[l(o,{t:"Public Key"}),t[9]||(t[9]=I()),e("code",null,[l(o,{t:"(Required)"})])])]),e("div",Ye,[h(e("input",{class:"form-check-input",type:"checkbox",role:"switch",disabled:this.bulk,id:"enablePublicKeyEdit","onUpdate:modelValue":t[4]||(t[4]=s=>this.editKey=s)},null,8,Ze),[[C,this.editKey]]),e("label",Xe,[e("small",null,[l(o,{t:"Use your own Private and Public Key"})])])])]),h(e("input",{class:m(["form-control-sm form-control rounded-3",{"is-invalid":this.error}]),"onUpdate:modelValue":t[5]||(t[5]=s=>this.keypair.publicKey=s),onBlur:t[6]||(t[6]=s=>this.checkMatching()),disabled:!this.editKey||this.bulk,type:this.view?"text":"password",id:"public_key"},null,42,et),[[M,this.keypair.publicKey]])])],2)}const st=w(Fe,[["render",tt]]),at={name:"bulkAdd",components:{LocaleText:p},props:{saving:Boolean,data:Object,availableIp:void 0},data(){return{numberOfAvailableIPs:null}},computed:{bulkAddGetLocale(){return V("How many peers you want to add?")},getNumberOfAvailableIPs(){return this.numberOfAvailableIPs?Object.values(this.numberOfAvailableIPs).reduce((a,t)=>a+t):"..."}},watch:{"data.bulkAdd":{immediate:!0,handler(a){a&&U("/api/getNumberOfAvailableIPs/"+this.$route.params.id,{},t=>{t.status&&(this.numberOfAvailableIPs=t.data)})}}}},lt={class:"form-check form-switch"},ot=["disabled"],it={class:"form-check-label me-2",for:"bulk_add"},dt={class:"text-muted d-block"},nt={key:0,class:"form-group"},rt=["max","placeholder"],ut={class:"text-muted"};function ct(a,t,r,u,c,k){const o=x("LocaleText");return i(),n("div",null,[e("div",lt,[h(e("input",{class:"form-check-input",type:"checkbox",role:"switch",disabled:!this.availableIp,id:"bulk_add","onUpdate:modelValue":t[0]||(t[0]=s=>this.data.bulkAdd=s)},null,8,ot),[[C,this.data.bulkAdd]]),e("label",it,[e("small",null,[e("strong",null,[l(o,{t:"Bulk Add"})])])])]),e("p",{class:m({"mb-0":!this.data.bulkAdd})},[e("small",dt,[l(o,{t:"By adding peers by bulk, each peer's name will be auto generated, and Allowed IP will be assign to the next available IP."})])],2),this.data.bulkAdd?(i(),n("div",nt,[h(e("input",{class:"form-control form-control-sm rounded-3 mb-1",type:"number",min:"1",id:"bulk_add_count",max:this.availableIp.length,"onUpdate:modelValue":t[1]||(t[1]=s=>this.data.bulkAddAmount=s),placeholder:this.bulkAddGetLocale},null,8,rt),[[y,this.data.bulkAddAmount]]),e("small",ut,[l(o,{t:"You can add up to "+k.getNumberOfAvailableIPs+" peers"},null,8,["t"])])])):g("",!0)])}const pt=w(at,[["render",ct]]),ht={name:"presharedKeyInput",components:{LocaleText:p},props:{data:Object,saving:Boolean,defaultEnabled:Boolean},data(){return{enable:!1}},mounted(){(this.data&&this.data.preshared_key&&this.data.preshared_key.length>0||this.defaultEnabled)&&(this.enable=!0)},watch:{enable(){this.enable?this.data.preshared_key||(this.data.preshared_key=window.wireguard.generateKeypair().presharedKey):this.data.preshared_key=""}}},bt={class:"d-flex align-items-start"},_t={for:"peer_preshared_key_textbox",class:"form-label"},mt={class:"text-muted"},vt={class:"form-check form-switch ms-auto"},ft=["disabled"];function kt(a,t,r,u,c,k){const o=x("LocaleText");return i(),n("div",null,[e("div",bt,[e("label",_t,[e("small",mt,[l(o,{t:"Pre-Shared Key"})])]),e("div",vt,[h(e("input",{class:"form-check-input",type:"checkbox",role:"switch","onUpdate:modelValue":t[0]||(t[0]=s=>this.enable=s),id:"peer_preshared_key_switch"},null,512),[[C,this.enable]])])]),h(e("input",{type:"text",class:"form-control form-control-sm rounded-3",disabled:this.saving||!this.enable,"onUpdate:modelValue":t[1]||(t[1]=s=>this.data.preshared_key=s),id:"peer_preshared_key_textbox"},null,8,ft),[[y,this.data.preshared_key]])])}const yt=w(ht,[["render",kt]]),gt={name:"mtuInput",components:{LocaleText:p},props:{data:Object,saving:Boolean}},wt={for:"peer_mtu",class:"form-label"},xt={class:"text-muted"},$t=["disabled"];function It(a,t,r,u,c,k){const o=x("LocaleText");return i(),n("div",null,[e("label",wt,[e("small",xt,[l(o,{t:"MTU"})])]),h(e("input",{type:"number",class:"form-control form-control-sm rounded-3",disabled:this.saving,"onUpdate:modelValue":t[0]||(t[0]=s=>this.data.mtu=s),min:"0",id:"peer_mtu"},null,8,$t),[[y,this.data.mtu]])])}const At=w(gt,[["render",It]]),Pt={name:"persistentKeepAliveInput",components:{LocaleText:p},props:{data:Object,saving:Boolean}},St={for:"peer_keep_alive",class:"form-label"},Kt={class:"text-muted"},Ct=["disabled"];function Ot(a,t,r,u,c,k){const o=x("LocaleText");return i(),n("div",null,[e("label",St,[e("small",Kt,[l(o,{t:"Persistent Keepalive"})])]),h(e("input",{type:"number",class:"form-control form-control-sm rounded-3",disabled:this.saving,"onUpdate:modelValue":t[0]||(t[0]=s=>this.data.keepalive=s),id:"peer_keep_alive"},null,8,Ct),[[y,this.data.keepalive]])])}const Dt=w(Pt,[["render",Ot]]),Nt={class:"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll",ref:"editConfigurationContainer"},Tt={class:"container d-flex h-100 w-100"},Lt={class:"m-auto modal-dialog-centered dashboardModal",style:{width:"1000px"}},Bt={class:"card rounded-3 shadow flex-grow-1"},Mt={class:"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4"},Vt={class:"mb-0"},Ut={class:"card-body px-4 pb-4"},Et={class:"d-flex flex-column gap-2"},jt={class:"accordion mb-3",id:"peerAddModalAccordion"},Ft={class:"accordion-item"},Gt={class:"accordion-header"},Rt={class:"accordion-button collapsed rounded-3",type:"button","data-bs-toggle":"collapse","data-bs-target":"#peerAddModalAccordionAdvancedOptions"},qt={id:"peerAddModalAccordionAdvancedOptions",class:"accordion-collapse collapse collapsed","data-bs-parent":"#peerAddModalAccordion"},Wt={class:"accordion-body rounded-bottom-3"},Jt={class:"d-flex flex-column gap-2"},zt={key:0},Ht={for:"peer_notes_add_textbox",class:"form-label"},Qt={class:"text-muted"},Yt=["disabled"],Zt={class:"row gy-3"},Xt={key:0,class:"col-sm"},es={class:"col-sm"},ts={class:"col-sm"},ss={key:1,class:"col-12"},as={class:"form-check form-switch"},ls={class:"form-check-label",for:"bullAdd_PresharedKey_Switch"},os={class:"fw-bold"},is={class:"d-flex mt-2"},ds=["disabled"],ns={key:0,class:"bi bi-plus-circle-fill me-2"},cs={__name:"peerAddModal",emits:["close","addedPeers"],async setup(a,{emit:t}){let r,u;const c=K(),k=S(),o=q(),v=k.Configurations.find(f=>f.Name===o.params.id)?.Info?.OverridePeerSettings||{},P=c.Configuration.Peers,d=T({bulkAdd:!1,bulkAddAmount:0,name:"",notes:"",allowed_ips:[],private_key:"",public_key:"",DNS:v.DNS||P.peer_global_dns,endpoint_allowed_ip:v.EndpointAllowedIPs||P.peer_endpoint_allowed_ip,keepalive:v.PersistentKeepalive&&parseInt(v.PersistentKeepalive)>0?parseInt(v.PersistentKeepalive):parseInt(P.peer_keep_alive),mtu:v.MTU&&parseInt(v.MTU)>0?parseInt(v.MTU):parseInt(P.peer_mtu),preshared_key:"",preshared_key_bulkAdd:!!c.Configuration.Peers.peer_preshared_key_default,advanced_security:"off",allowed_ips_validation:!0}),A=T([]),b=T(!1);[r,u]=W(()=>U("/api/getAvailableIPs/"+o.params.id,{},f=>{f.status&&(A.value=f.data)})),await r,u();const B=t,E=H(()=>{let f=!0;return d.value.bulkAdd?(d.value.bulkAddAmount.length===0||d.value.bulkAddAmount>A.value.length)&&(f=!1):["allowed_ips","private_key","public_key","endpoint_allowed_ip","keepalive","mtu"].forEach($=>{d.value[$].length===0&&(f=!1)}),f}),j=()=>{b.value=!0,Q("/api/addPeers/"+o.params.id,d.value,f=>{f.status?(c.newMessage("Server","Peer created successfully","success"),B("addedPeers")):c.newMessage("Server",f.message,"danger"),b.value=!1})};return J(()=>d.value.bulkAddAmount,()=>{d.value.bulkAddAmount>A.value.length&&(d.value.bulkAddAmount=A.value.length)}),(f,_)=>(i(),n("div",Nt,[e("div",Tt,[e("div",Lt,[e("div",Bt,[e("div",Mt,[e("h4",Vt,[l(p,{t:"Add Peers"})]),e("button",{type:"button",class:"btn-close ms-auto",onClick:_[0]||(_[0]=$=>B("close")),"aria-label":"Close"})]),e("div",Ut,[e("div",Et,[l(pt,{saving:b.value,data:d.value,availableIp:A.value},null,8,["saving","data","availableIp"]),d.value.bulkAdd?g("",!0):(i(),n(N,{key:0},[_[4]||(_[4]=e("hr",{class:"mb-0 mt-2"},null,-1)),l(je,{saving:b.value,data:d.value},null,8,["saving","data"]),l(st,{saving:b.value,data:d.value},null,8,["saving","data"]),l(Ke,{availableIp:A.value,saving:b.value,data:d.value},null,8,["availableIp","saving","data"])],64))]),_[6]||(_[6]=e("hr",null,null,-1)),e("div",jt,[e("div",Ft,[e("h2",Gt,[e("button",Rt,[l(p,{t:"Advanced Options"})])]),e("div",qt,[e("div",Wt,[e("div",Jt,[l(Le,{saving:b.value,data:d.value},null,8,["saving","data"]),l(se,{saving:b.value,data:d.value},null,8,["saving","data"]),d.value.bulkAdd?g("",!0):(i(),n("div",zt,[e("label",Ht,[e("small",Qt,[l(p,{t:"Notes"})])]),h(e("textarea",{class:"form-control form-control-sm rounded-3",disabled:b.value,"onUpdate:modelValue":_[1]||(_[1]=$=>d.value.notes=$),id:"peer_notes_add_textbox",rows:"3"},null,8,Yt),[[y,d.value.notes]])])),e("div",Zt,[d.value.bulkAdd?g("",!0):(i(),n("div",Xt,[l(yt,{saving:b.value,data:d.value,bulk:d.value.bulkAdd,defaultEnabled:!!z(c).Configuration.Peers.peer_preshared_key_default},null,8,["saving","data","bulk","defaultEnabled"])])),e("div",es,[l(At,{saving:b.value,data:d.value},null,8,["saving","data"])]),e("div",ts,[l(Dt,{saving:b.value,data:d.value},null,8,["saving","data"])]),d.value.bulkAdd?(i(),n("div",ss,[e("div",as,[h(e("input",{class:"form-check-input",type:"checkbox",role:"switch","onUpdate:modelValue":_[2]||(_[2]=$=>d.value.preshared_key_bulkAdd=$),id:"bullAdd_PresharedKey_Switch",checked:""},null,512),[[C,d.value.preshared_key_bulkAdd]]),e("label",ls,[e("small",os,[l(p,{t:"Pre-Shared Key"}),_[5]||(_[5]=I()),d.value.preshared_key_bulkAdd?(i(),D(p,{key:0,t:"Enabled"})):(i(),D(p,{key:1,t:"Disabled"}))])])])])):g("",!0)])])])])])]),e("div",is,[e("button",{class:"ms-auto btn btn-dark btn-brand rounded-3 px-3 py-2 shadow",disabled:!E.value||b.value,onClick:_[3]||(_[3]=$=>j())},[b.value?g("",!0):(i(),n("i",ns)),b.value?(i(),D(p,{key:1,t:"Adding..."})):(i(),D(p,{key:2,t:"Add"}))],8,ds)])])])])])],512))}};export{cs as default};
